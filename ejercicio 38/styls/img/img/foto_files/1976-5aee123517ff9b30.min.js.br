"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a3eeb151-64bb-5b2b-89da-b1dd37f2577a")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[1976],{852938:(e,t,a)=>{a.d(t,{J:()=>b});var n=a(411855),r=a(922827),i=a(340818),l=a(196302),o=a(944613),c=a(445713),s=a(497567),u=a(118256),d=a(4152),f=a(865767),m=a(14285);let h=a(103212).zS;function b(){let[e,t]=(0,o.fp)(m.ph),a=(0,o.md)(m.KG),b=(0,o.md)(m.kh),p=(0,u._X)({subscribeToUpdates_expensive:!0}),[E,S]=(0,n.useState)(null),g="whiteboard"===(0,c.lg)(),T=n.useCallback(()=>{if(e){let{emojis:t,index:a}=e;if(t&&a>=0&&a<t.length){let e=(0,s._Q)(t[a]);e&&i.l7.user("insert-emoji",()=>{(0,l.sx)("inserted_editor_emoji",{emoji:e}),r.SmY.replaceCurrentShortcodeWithEmoji(e)})}}},[e]),v=n.useCallback(()=>{t(null)},[t]);if(!b||!e||null===a)return null;let y=(0,u.Yb)(p,b);if(!(0,u.ZT)(y,p))return null;let x={top:y.y+p.y-8,bottom:y.y+p.y+y.height+8,left:y.x+p.x,right:y.x+p.x+y.width,height:y.height,width:y.width},C=E&&x.height>0&&x.bottom>p.height-E&&x.top>p.height-x.bottom?{positionFromBottom:{left:x.left,bottom:p.height+p.y-x.top},direction:f.ri.UPWARDS}:{targetRect:x,direction:f.ri.DOWNWARDS};return n.createElement("div",null,n.createElement(d.j,{dispatchTypeahead:t,typeahead:e,onInsert:T,onClear:v,width:168,...C,setMaxTypeaheadHeight:S,zIndex:h,isFigJam:g,recordingKey:"emojiTypeaheadView",emojiImageSet:a}))}},48255:(e,t,a)=>{a.d(t,{C_:()=>p,E0:()=>d,iv:()=>h,LP:()=>b,JI:()=>m,v2:()=>f});var n=a(411855),r=a(188507),i=a(140593),l=a(922827),o=a(689570),c=a(719900),s=a(445713),u=a(132540);let d=(0,o.hG)(u.tui);function f(){let e=(0,r.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t,appModel:a}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.SECTION&&(e.name||a.onCanvasNameEditorInfo.mode===l.nzw.SECTION_NAME)),t=(0,r.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.STAMP),a=(0,r.d4)(({mirror:{selectionProperties:e}})=>e.nodeSelectedValidForQuickAdd);return"whiteboard"===(0,s.lg)()?e?40:t&&c.XN?40:a?20+d/2:l.qmM?.shouldRenderTableUiForSelection()!==l.miS.HIDE?20+d/2:16:8}function m(){return(0,r.d4)(e=>e.mirror.appModel.hyperlinkLocation)}function h(e,t,a,n){switch(n){case l.cfv.ABOVE:return a<e.y?l.cfv.ABOVE:l.cfv.BELOW;case l.cfv.BELOW:return a>e.y?l.cfv.BELOW:l.cfv.ABOVE;case l.cfv.LEFT:return t<e.x?l.cfv.LEFT:l.cfv.RIGHT;case l.cfv.RIGHT:return t>e.x?l.cfv.RIGHT:l.cfv.LEFT;default:(0,i.xb)(n)}}function b(e){let t=n.useRef({frameHandle:null,didMenuMidpointChange:!1,didSelectionChange:!1,lastMidpoint:{x:0,y:0},lastSelection:{}}),a=n.useCallback(()=>{let{current:a}=t;a.didMenuMidpointChange&&a.didSelectionChange&&e.current?.animate(),a.frameHandle||(a.frameHandle=setTimeout(()=>{a.didMenuMidpointChange=!1,a.didSelectionChange=!1,a.frameHandle=null},0))},[e]);return{markSelectionChanged:n.useCallback(e=>{Object.keys(t.current.lastSelection).length&&(t.current.didSelectionChange=!0,a()),t.current.lastSelection=e},[a]),markPositionChanged:n.useCallback(e=>{let{current:n}=t;(e.x!==n.lastMidpoint.x||e.y!==n.lastMidpoint.y)&&(n.didMenuMidpointChange=!0,a()),n.lastMidpoint=e},[a])}}let p=n.forwardRef(function({children:e},t){let a=n.useRef(null);return n.useImperativeHandle(t,()=>({animate:()=>{a.current&&(a.current.style.animation="none",a.current.offsetTop,a.current.style.animation="")}})),n.createElement("div",{ref:a,className:"inline_editor_layer--animationRoot--pX-db"},e)})},55934:(e,t,a)=>{a.d(t,{k:()=>E});var n=a(411855),r=a(188507),i=a(140593),l=a(922827),o=a(581166),c=a(944613),s=a(567972),u=a(445713),d=a(757700),f=a(118256),m=a(985091),h=a(815805),b=a(866400),p=a(48255);function E({children:e,isShown:t,centerInFrame:a,anchorToRect:i,showInReadOnly:o,respectPreferredPosition:c}){let s;let[u,h]=n.useState(!1),[b,E]=n.useState(!1),g=n.useRef(null),{markPositionChanged:T,markSelectionChanged:v}=(0,p.LP)(g),y=(0,r.d4)(({mirror:{appModel:e}})=>[l.QOV.DEFAULT,l.QOV.SELECTING_TEXT,l.QOV.CLICKING_TO_CHANGE_SELECTION].includes(e.activeUserAction)),x=(0,r.d4)(({mirror:{appModel:e}})=>e.isReadOnly),C=(0,f._X)({subscribeToUpdates_expensive:t}),k=(0,m.J2)(l.Ez5.canvasViewState().selectionBoundingRect),_=(0,m.J2)(l.Ez5.canvasViewState().inlineMenuTarget),O=i||_?.boundingBox||k,I=(0,p.JI)(),A=(0,r.d4)(e=>e.mirror.sceneGraphSelection),w=(0,d.kl)("isTableSublayerSelected"),M=(s=l.cfv.ABOVE,_?.preferredPosition?s=_.preferredPosition:w&&(s=l.cfv.BELOW),s),L=!!I||!C||!O||!y||x&&!o||!t;n.useEffect(()=>{(L||b)&&u&&h(!1)},[L,u,b]);let B=C?.offsetX||0,R=C?.offsetY||0;return(n.useEffect(()=>{h(!1)},[A,B,R]),n.useEffect(()=>{v(A)},[A,v]),L)?n.createElement(p.C_,{ref:g},null):n.createElement(S,{viewport:C,animationContainerRef:g,centerInFrame:a,boundingBox:O,preferredRelativePosition:M,setSizeChanged:E,isHovering:u,setIsHovering:h,markPositionChanged:T,respectPreferredPosition:c},e)}function S({children:e,viewport:t,animationContainerRef:a,centerInFrame:r,boundingBox:d,preferredRelativePosition:m,setSizeChanged:E,isHovering:S,setIsHovering:g,markPositionChanged:T,respectPreferredPosition:v}){let[y,x]=(0,c.fp)(h.f),C=y.positionRelativeToSelection,k=n.useRef(null),_=(0,u.lg)(),O=(0,p.v2)(),I=r?0:O,A=(0,s.FQ)(),w=(0,f.Yb)(t,d),M=n.useMemo(()=>({...w,x:w.x+t.x,y:w.y+t.y}),[w,t]),L=n.useCallback((e,a,n,r)=>{if(t){let i=e-t.x,o=a-t.y,c=(0,f.$$)(t,{x:i,y:o-r/window.devicePixelRatio});l.glU.figjamInlineMenuPositionUpdate(c.x,c.y,n.height)}T({x:e+n.width/2,y:a+n.height/2});let i=(0,p.iv)(M,e,a,m);C!==i&&x({type:"SET_POS_RELATIVE_TO_SELECTION",payload:i})},[t,T,M,C,x,m]),B=n.useCallback((e,t,a)=>{switch(a){case l.cfv.ABOVE:return[(0,b.Al)(e,t),r?(0,b.tJ)(e,t):(0,b.T1)(e,t,I)];case l.cfv.BELOW:return[(0,b.Al)(e,t),r?(0,b.tJ)(e,t):(0,b.DH)(e,t,I)];case l.cfv.LEFT:return[(0,b.Dl)(e,t,20),r?(0,b.tJ)(e,t):e.y];case l.cfv.RIGHT:return[(0,b.Yh)(e,20),r?(0,b.tJ)(e,t):e.y];default:(0,i.xb)(a)}},[I,r]),R=n.useCallback((e,t,a)=>{let[n,r]=B(e,t,a);return o.r.fromOriginAndSize(n,r,t.width,t.height)},[B]),N=n.useCallback((e,t,a,n,i)=>!r&&a===l.cfv.ABOVE&&n.top()>i.top()?R(e,t,l.cfv.BELOW):!r&&a===l.cfv.BELOW&&n.top()<i.top()?R(e,t,l.cfv.ABOVE):a===l.cfv.LEFT&&n.left()>i.left()?R(e,t,l.cfv.RIGHT):a===l.cfv.RIGHT&&n.left()<i.left()?R(e,t,l.cfv.LEFT):n,[R,r]),P=n.useCallback((e,a,n,r)=>{let i=o.r.fromOriginAndSize(t.x,t.y,t.width,t.height),l=R(e,a,m),c=A(l,i,r),s=N(e,a,m,c,l);return s===c||v||(c=A(s,i,r)),[c.left(),c.top()]},[m,v,t.height,t.width,t.x,t.y,A,R,N]);if(!(0,f.ZT)(w,t))return n.createElement(p.C_,{ref:a},null);let G="whiteboard"===_&&S?{transition:"transform 0.1s"}:{};return G.WebkitUserSelect="none",n.createElement(b.lM,{style:G,targetRect:M,onMouseEnter:()=>{g(!0),k.current&&clearTimeout(k.current),k.current=null},onMouseLeave:()=>{k.current=setTimeout(()=>g(!1),100)},offset:I,positionXY:P,onPosition:L,frozen:S,setSizeChanged:E},n.createElement(p.C_,{ref:a},e))}},988241:(e,t,a)=>{a.d(t,{n:()=>c});var n=a(411855),r=a(188507),i=a(1829),l=a(626148),o=a(661356);function c(){let e=function(){let e=(0,r.d4)(e=>e.mirror.appModel.onCanvasPillInfo);return(0,i.Fk)((e,t)=>t&&0!==t.length?t.map(t=>{let a=e.get(t.guid);if(!a||"-1:-1"===a.guid)return null;let n={guid:a.guid,name:a.name,type:a.type,boundingBox:a.absoluteBoundingBox,isFigmaPurple:t.isFigmaPurple,hasEnabledStaticImagePaint:a.hasEnabledStaticImagePaint,isState:a.isState,isStateGroup:a.isStateGroup,stackCounterAlignItems:a.stackCounterAlignItems,stackMode:a.stackMode,isGroup:a.isGroup,canHaveStatus:a.canHaveStatus,hasStatus:a.hasStatus,objectsPanelThumbnailId:a.objectsPanelThumbnailId};if(n.isState&&t.symbolId){let a=e.get(t.symbolId);n.symbolName=a?.name}return n}):null,e)}()?.[0];return e?n.createElement(l.MO,{node:e,offsetX:-3},n.createElement("div",{className:o.nM},n.createElement(l.Tq,{node:e}),n.createElement("span",{className:o.dK},e.symbolName?e.symbolName:e.name))):null}},525444:(e,t,a)=>{a.d(t,{e:()=>S});var n=a(411855),r=a(424517),i=a(922827),l=a(474474),o=a(944613),c=a(744952),s=a(301929),u=a(472391),d=a(445713),f=a(117312),m=a(833876),h=a(406536),b=a(565652),p=a(75557),E=a(685670);function S({activeTab:e,recordingKey:t}){let a=(0,m._6)(),{showPublish:S,showLayersPanel:g,showSitesBlocksPanel:T,showCodePanel:v,showDakotaPanel:y}=(0,E.U)(),x=(0,p.Vj)(a),C=(0,l.kc)().sts_code,k=(0,o.md)(h.AS).enabled,_=(0,u.U9)()&&x,O=(0,d.ow)(),I=i.xae.LAYERS.toString(),A=i.xae.KITS_SITES.toString(),w=i.xae.CODE.toString(),M=i.xae.ASSETS.toString(),L=i.xae.DAKOTA.toString(),[B,,R]=r.t.useManagedTabs({[I]:!0,[A]:x&&!k,[w]:x&&C,[M]:!O,[L]:_},e.toString(),e=>{switch(parseInt(e)){case i.xae.LAYERS:g();break;case i.xae.KITS_SITES:T();break;case i.xae.CODE:v();break;case i.xae.ASSETS:S();break;case i.xae.DAKOTA:y();break;default:(t=>{throw Error("Unhandled tab behavior: "+e)})(0)}},{recordingKey:c.Pt(t,"tabs")});return n.createElement("div",{className:"ui3_tabs--tabStrip--zypFK",onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},onKeyDown:e=>{e.defaultPrevented||(0,f.f7)(e)}},n.createElement(r.t.TabStrip,{manager:R},n.createElement(r.t.Tab,{...B[I]},(0,s.tx)("fullscreen.pages_panel.file_tab")),n.createElement(r.t.Tab,{...B[A],htmlAttributes:{"data-testid":"kitsSitesTab"}},(0,s.tx)("fullscreen.pages_panel.resources_tab")),n.createElement(r.t.Tab,{...B[w]},(0,s.tx)("fullscreen.pages_panel.code_tab")),n.createElement(r.t.Tab,{...B[M],onboardingKey:b.Qr},(0,s.tx)("fullscreen.pages_panel.assets_tab")),n.createElement(r.t.Tab,{...B[L]},(0,s.tx)("fullscreen.pages_panel.dakota_tab"))))}}}]);

//# debugId=a3eeb151-64bb-5b2b-89da-b1dd37f2577a

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/4f82dcf792fd0940b4b9d0df2be02df3c47e7068/1976-5aee123517ff9b30.min.js.map